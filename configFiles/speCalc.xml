<?xml version="1.0" encoding="UTF-8"?>
<TestRecoConfig xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="reco/CCMRecoConfig.xsd">

  <!--
  <Modules type="Reco"> CCMConvertBinary2ROOT </Modules>
  <Modules type="Reco"> CCMNearlineDiag </Modules>
  <Modules type="Reco"> CCMApplyPreCuts </Modules>
  <Modules type="Reco"> CCMFindEvents </Modules>
  -->

  <Modules type="Reco"> CCMSPECalc </Modules>
  <ModuleVersion> default </ModuleVersion>

  <Config name="ROOTSetup" version="default">
    <Param name="ReadBranches"><string>rawData pulses</string>
      The branches to read in options are
      - events
      - rawData
      - pulses
      - accumWaveform
      - all
      - none
    </Param>
    <Param name="SaveBranches"><string>none</string>
      The branches to read in options are
      - events
      - rawData
      - pulses
      - accumWaveform
      - all
      - none
    </Param>
  </Config>

  <Config name="PMTMapSetup" version="default">
    <Param name="MappingFile"><string>default</string>
      The PMT mapping file to read in. If default is passed the files in $CCMPROJECT/calibrationFiles/2019/mapping_master* will be used
      Must be the first param in this config
    </Param>
    <Param name="HVOffFile"><string>default</string>
      List of the HV channels that are off.
      default is $CCMPROJECT/calibrationFiles/2019/hv_off_2019.csv
    </Param>
    <Param name="CalibrationFile"><string>default</string>
      Name of the calibration file to use
      default is $CCMPROJECT/calibrationFiles/2019/root_out_2019ledData_run179_legFix_integral_all_round4_.root
    </Param>
  </Config>

  <Config name="CCMSPECalc" version="default">
    <Param name="TriggerType"><string> LED </string>
      Only look at triggers with name passed.
      Options are:
       - BEAM
       - STROBE
       - LED
      and any combination of the three, like BEAM STROBE
    </Param>
    <Param name="CalibrationFile"><string>root_out_2019ledData_run179_legFix_integral_all_round4_.root</string>
      Name of the calibration file to use
    </Param>
    <Param name="RedoLEDCalib"><int> 0 </int>
      A flag, if non-zero, will calculate the LED calibration on the histograms in the CalibrationFile instead
      recreating the histograms from the list of runs passed. Only needed if DoLEDCalib is non-zero
    </Param>
    <Param name="DAQWindowStart"><double> 200 </double>
      The time in the DAQ window in nanoseconds to start looking for single PE pulses. Only needed if DoLEDCalib is non-zero.
      DAQ window starts at -9920 and end at 6080 nanoseconds.
    </Param>
    <Param name="DAQWindowEnd"><double> 400 </double>
      The time in the DAQ window in nanoseconds to stop looking for single PE pulses. Only needed if DoLEDCalib is non-zero.
      DAQ window ends at -9920 and end at 6080 nanoseconds.
    </Param>
    <Param name="SaveParameters"><string> peHists spe1DHist rate1DHist rootTree rootAndPDF </string>
      List of flags that correspond to various histograms that can be created while doing the SPE calibration. Only needed if DoLEDCalib is non-zero.
      List of possible options:
        - rate2DHist
        - spe2DHist
        - peHists
        - aDC2DHist
        - flangeHists
        - spe1DHist
        - rate1DHist
        - noisePeakHist
        - noiseEndHist
        - fitEndHist
        - fitRMSHist
        - noiseIntegralHist
        - tailIntegralHist
        - rootTree
        - output file options below
          - rootOnly
          - pdfOnly
          - rootAndPDF
    </Param>
  </Config>


</TestRecoConfig>





